<html lang="en"><head>
  <meta charset="UTF-8">
  <title>Social Suite - Photo Editor</title>
  <style type="text/css">svg:not(:root).svg-inline--fa{overflow:visible}.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;overflow:visible;vertical-align:-.125em}.svg-inline--fa.fa-lg{vertical-align:-.225em}.svg-inline--fa.fa-w-1{width:.0625em}.svg-inline--fa.fa-w-2{width:.125em}.svg-inline--fa.fa-w-3{width:.1875em}.svg-inline--fa.fa-w-4{width:.25em}.svg-inline--fa.fa-w-5{width:.3125em}.svg-inline--fa.fa-w-6{width:.375em}.svg-inline--fa.fa-w-7{width:.4375em}.svg-inline--fa.fa-w-8{width:.5em}.svg-inline--fa.fa-w-9{width:.5625em}.svg-inline--fa.fa-w-10{width:.625em}.svg-inline--fa.fa-w-11{width:.6875em}.svg-inline--fa.fa-w-12{width:.75em}.svg-inline--fa.fa-w-13{width:.8125em}.svg-inline--fa.fa-w-14{width:.875em}.svg-inline--fa.fa-w-15{width:.9375em}.svg-inline--fa.fa-w-16{width:1em}.svg-inline--fa.fa-w-17{width:1.0625em}.svg-inline--fa.fa-w-18{width:1.125em}.svg-inline--fa.fa-w-19{width:1.1875em}.svg-inline--fa.fa-w-20{width:1.25em}.svg-inline--fa.fa-pull-left{margin-right:.3em;width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;width:auto}.svg-inline--fa.fa-border{height:1.5em}.svg-inline--fa.fa-li{width:2em}.svg-inline--fa.fa-fw{width:1.25em}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:#ff253a;border-radius:1em;color:#fff;height:1.5em;line-height:1;max-width:5em;min-width:1.5em;overflow:hidden;padding:.25em;right:0;text-overflow:ellipsis;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:0;right:0;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;left:0;right:auto;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{right:0;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:0;right:auto;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top left;transform-origin:top left}.fa-lg{font-size:1.33333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;position:absolute;text-align:center;width:2em;line-height:inherit}.fa-border{border:solid .08em #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.fa-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-webkit-transform:scale(1,-1);transform:scale(1,-1)}.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1,-1);transform:scale(-1,-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{-webkit-filter:none;filter:none}.fa-stack{display:inline-block;height:2em;position:relative;width:2em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.svg-inline--fa.fa-stack-1x{height:1em;width:1em}.svg-inline--fa.fa-stack-2x{height:2em;width:2em}.fa-inverse{color:#fff}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}</style><link rel="stylesheet" href="./style.css">

  <script type="text/javascript" src="config.json"></script>
</head>
<body x-data="images()" x-init="getImages()">
<!-- partial:index.partial.html -->

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/custom.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700|Nunito:400,700" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v1.9.8/dist/alpine.js" defer=""></script>
    <script defer="" src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>

    <link href="images/favicon_32.ico" rel="shortcut icon" type="image/x-icon">
    <link href="images/favicon_256.ico" rel="apple-touch-icon">
  
  
    <!-- Header section -->
    <header class="navigation">
      <div class="container navigation-content">
        <nav class="navbar navbar-expand-lg navbar-light">
          <a class="navbar-brand" href="index.html"><img src="https://suite.social/images/icon/suite.png" alt="weconnect logo" height="50" class="navbar-brand-image">
            Social Designer</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
        </nav>
      </div>
    </header>
    <!-- Header section /-->

    <!-- Hero Section -->
    <div>
      <section class="hero">
        <div class="container">
          <div class="d-flex flex-column align-items-center">
            <h1 class="display-4" style="text-align:center; color:white">
              Edit images for promotions!
            </h1>
            <h3 class="" style="text-align:center; color:white">
              Save money on design costs? Search thousands of free images to create designs in online image editor.
            </h3>
			
            <div class="input-group">
              <input type="text" class="form-control" placeholder="search images" x-model="q" aria-label="Text input with segmented dropdown button" id = "image_search_key" @keydown.enter="getImages()">
              <select class="custom-select site_typeStyle" x-model="site_type" id = "id_site_type" onChange="change_imageType()">
				
                <option value="Pixabay">Pixabay</option>
                <option value="Unsplash">Unsplash</option>
                <option value="Pexels">Pexels</option>
                <option value="Flickr">Flickr</option>
				<option value="Wallhaven">Wallhaven</option>
				<option value="All">All</option>

              </select>

			  <select class="custom-select image_typeStyle" x-model="image_type" id = "id_image_type">
                <option value="all">All</option>
                <option value="photo">Photo</option>
                <option value="illustration">Illustration</option>
                <option value="vector">Vector</option>
              </select>

              <div class="input-group-append">
                <button class="btn btn-primary" type="button" x-on:click="getImages()">
                  Search
                </button>
              </div>

            </div>
          </div>
        </div>
      </section>
	  
      <section>
        <div class="container">
          <div class="d-flex flex-column align-items-center">
            <br><h5 class="" style="text-align:center;">
              Search and select image to edit. Add logo or text, draw, crop, rotate, resize and apply filters, frames, shapes and stickers to create design for your promotion.
            </h5>
          </div>
        </div>	  
      </section>

      <section id="photos" style="margin-top: 1rem">
        <template x-for="image in images" :key="image.id">
          <img x-bind:src="image.url" alt="image.tag">
        </template>
        </section>
    </div>
    <script>


	function change_imageType()
	{

		var site_selObj = document.getElementById("id_site_type");
		var site_val = site_selObj.options[site_selObj.selectedIndex].value;
		if(site_val != "Wallhaven" && site_val != "Pixabay")
		{
			document.getElementById("id_image_type").innerHTML = "<option value='all'>All</option>";
		}
		else if(site_val == "Pixabay")
		{
			document.getElementById("id_image_type").innerHTML = "<option value='all'>All</option><option value='photo'>Photo</option><option value='illustration'>Illustration</option><option value='vector'>Vector</option>";
		}
		else if(site_val == "Wallhaven")
		{
			document.getElementById("id_image_type").innerHTML = "<option value='all'>All</option><option value='people'>People</option><option value='general'>General</option><option value='anime'>Anime</option>";
		}

	}
      function images() {
        return {
          images: [],
          q: "",
		  site_type: "",
          image_type: "",
          getImages: async function() {
			this.images = [];
		
			var randomSearch = true;
			if (this.q != "")
				randomSearch = false;
		  
			_configs = JSON.parse(config);

			//var strUser = e.options[e.selectedIndex].value;
			var site_selObj = document.getElementById("id_site_type");
			var site_val = site_selObj.options[site_selObj.selectedIndex].value;

			for (i in _configs) {

				if(site_val != _configs[i].kind && site_val != "All")
					continue;

				_config = _configs[i];

				var url = _config.search_url;
				if (randomSearch)
					url = _config.random_url;
				if (_config.kind != "Pexels")
					url += _config.key_name + "=" + _config.key_value;
				if (randomSearch == false)
					url += "&" + _config.q_name + "=" + this.q;

				
				if(site_val == "Pixabay")
				{
					var img_typeObj = document.getElementById("id_image_type");
					var img_typeval = img_typeObj.options[img_typeObj.selectedIndex].value;
					url += "&" + "image_type" + "=" + img_typeval;
				}
				else if(site_val == "Wallhaven")
				{
					var img_typeObj = document.getElementById("id_image_type");
					var img_typeval = img_typeObj.options[img_typeObj.selectedIndex].value;

					if(img_typeval == "all")
						url += "&" + "categories" + "=" + "111";
					else if(img_typeval == "general")
						url += "&" + "categories" + "=" + "100";
					else if(img_typeval == "anime")
						url += "&" + "categories" + "=" + "010";
					else if(img_typeval == "people")
						url += "&" + "categories" + "=" + "001";
					console.log(url);	
				}

				var response = null;
				if (_config.kind != "Pexels")
					response = await fetch(url);
				else 
					response = await fetch(url, {
						headers: {
							Authorization: _config.key_value
						}});

				const data = await response.json();
				
				switch (_config.kind) {
					case "Pixabay":
						
						for (j in data.hits) {
							var element = data.hits[j];
							this.images.push({id: element.id, url: element.webformatURL, tag: element.tags});
						}
						break;
					case "Unsplash":
						if (randomSearch) {
							for (j in data) {
								var element = data[j];
								this.images.push({id: element.id, url: element.urls.regular, tag: element.description});
							}
						}
						else {
							for (j in data.results) {
								var element = data.results[j];
								this.images.push({id: element.id, url: element.urls.regular, tag: element.description});
							}
						}
						break;
					case "Flickr":
						if (randomSearch) {
							for (j in data.photos.photo) {
								var element = data.photos.photo[j];
								this.images.push({id: element.id, url: element.url_m, tag: element.title});
							}
						}
						else {
							for (j in data.photos.photo) {
								var element = data.photos.photo[j];
								this.images.push({id: element.id, url: element.url_m, tag: element.title});
							}
						}
						break;
					case "Wallhaven":
						console.log(data);
						if (randomSearch) {
							for (j in data.data) {
								var element = data.data[j];
								this.images.push({id: element.id, url: element.thumbs.original, tag: element.category});
							}
						}
						else {
							for (j in data.data) {
								var element = data.data[j];
								this.images.push({id: element.id, url: element.thumbs.original, tag: element.category});
							}
						}
						break;
					case "Pexels":
						if (randomSearch) {
							for (j in data.photos) {
								var element = data.photos[j];
								this.images.push({id: element.id, url: element.src.medium, tag: element.photographer});
							}
						}
						else {
							for (j in data.photos) {
								var element = data.photos[j];
								this.images.push({id: element.id, url: element.src.medium, tag: element.photographer});
							}
						}
						break;
				}
			}
          }
        };
      }
    </script>

</body></html>